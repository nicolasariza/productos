(this.webpackJsonpproductos=this.webpackJsonpproductos||[]).push([[0],{42:function(e,t,a){e.exports=a(71)},47:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),l=(a(47),a(12)),u=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary justify-content-between"},r.a.createElement("div",{className:"contariner"},r.a.createElement("h1",null,r.a.createElement(l.b,{to:"/",className:"text-light"},"CRUD productos"))),r.a.createElement(l.b,{to:"/productos/nuevo",className:"btn btn-danger nuevo-post d-block d-md-inline-block"},"Agregar producto +"))},s=a(11),i=a(2),p=a(9),d=a.n(p),m=a(18),E=a(14),O=a.n(E),b=a(39),f=a.n(b).a.create({baseURL:"http://localhost:4000/"});var R=function(){return{type:"AGREGAR_PRODUCTO",payload:!0}},v=function(e){return{type:"AGREGAR_PRODUCTO_EXITO",payload:e}},y=function(e){return{type:"AGREGAR_PRODUCTO_ERROR",payload:e}};var g=function(){return{type:"COMENZAR_DESCARGA_PRODUCTOS",payload:!0}},h=function(e){return{type:"DESCARGA_PRODUCTOS_EXITO",payload:e}},_=function(){return{type:"DESCARGA_PRODUCTOS_ERROR",payload:!0}};var N=function(e){return{type:"OBTENER_PRODUCTO_ELIMINAR",payload:e}},T=function(){return{type:"PRODUCTO_ELIMINADO_EXITO"}},A=function(){return{type:"PRODUCTO_ELIMINADO_ERROR",payload:!0}};var D=function(e){return{type:"OBTENER_PRODUCTO_EDITAR",payload:e}};var C=function(){return{type:"COMENZAR_EDICION_PRODUCTO"}},j=function(e){return{type:"PRODUCTO_EDITADO_EXITO",payload:e}},w=function(){return{type:"PRODUCTO_EDITADO_ERROR",payload:!0}},x=function(e){var t=e.producto,a=t.nombre,n=t.precio,c=t.id,o=Object(i.b)(),l=Object(s.f)(),u=function(e){O.a.fire({title:"\xbfEst\xe1s seguro?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"S\xed, eliminar!"}).then((function(t){t.value&&o(function(e){return function(){var t=Object(m.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(N(e)),t.prev=1,t.next=4,f.delete("/productos/".concat(e));case 4:a(T()),O.a.fire("Eliminado!","El producto se elimin\xf3 correctamente.","success"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(A());case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))}))},p=function(e){o(function(e){return function(t){t(D(e))}}(e)),l.push("/productos/editar/".concat(e.id))};return r.a.createElement("tr",null,r.a.createElement("td",null,a),r.a.createElement("td",null,r.a.createElement("span",{className:"font-weight-bold"},"$ ",n)),r.a.createElement("td",{className:"acciones"},r.a.createElement("button",{onClick:function(){return p(t)},type:"button",className:"btn btn-primary mr-2"},"Editar"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return u(c)}},"Eliminar")))},I=function(){var e=Object(i.b)();Object(n.useEffect)((function(){e(function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(g()),e.prev=1,e.next=4,f.get("/productos");case 4:a=e.sent,t(h(a.data)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),t(_());case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(i.c)((function(e){return e.productos.productos})),a=Object(i.c)((function(e){return e.productos.error})),c=Object(i.c)((function(e){return e.productos.loading}));return r.a.createElement(n.Fragment,null,r.a.createElement("h2",{className:"text-center my-5"},"Listado de productos"),a?r.a.createElement("p",{className:"font-weight-bold alert alert-danger text-center"},"Hubo un error"):null,c?r.a.createElement("p",{className:"text-center"}," Cargando... "):null,r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",{className:"bg-primary table-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Nombre"),r.a.createElement("th",{scope:"col"},"Precio"),r.a.createElement("th",{scope:"col"},"Acciones"))),r.a.createElement("tbody",null,0===t.length?"No hay productos":t.map((function(e){return r.a.createElement(x,{key:e.id,producto:e})})))))},P=a(17);var U=function(e){return{type:"MOSTRAR_ALERTA",payload:e}};var S=function(){return{type:"OCULTAR_ALERTA"}},k=function(e){var t=e.history,a=Object(n.useState)(""),c=Object(P.a)(a,2),o=c[0],l=c[1],u=Object(n.useState)(0),s=Object(P.a)(u,2),p=s[0],E=s[1],b=Object(i.b)(),g=Object(i.c)((function(e){return e.productos.loading})),h=Object(i.c)((function(e){return e.productos.error})),_=Object(i.c)((function(e){return e.alerta.alerta})),N=function(e){return b(function(e){return function(){var t=Object(m.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(R()),t.prev=1,t.next=4,f.post("/productos",e);case 4:a(v(e)),O.a.fire("Correcto","El producto se agreg\xf3 correctamente","success"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),a(y(!0)),O.a.fire({icon:"error",title:"Hubo un error",text:"Intenta de nuevo"});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"text-center mb-4 font-weight-bold"},"Agregar un nuevo producto"),_?r.a.createElement("p",{className:_.classes},_.msg):null,r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),""===o.trim()||p<=0){b(function(e){return function(t){t(U(e))}}({msg:"Ambos campos son obligatorios",classes:"alert alert-danger text-center text-uppercase p3"}))}else b((function(e){e(S())})),N({nombre:o,precio:p}),t.push("/")}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Nombre producto"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Nombre del producto",name:"nombre",value:o,onChange:function(e){return l(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Precio producto"),r.a.createElement("input",{type:"number",className:"form-control",placeholder:"Precio del producto",name:"precio",value:p,onChange:function(e){return E(Number(e.target.value))}})),r.a.createElement("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100"},"Agregar")),g?r.a.createElement("p",null,"Cargando..."):null,h?r.a.createElement("p",{className:"alert alert-danger p2 mt-4 text-center"},"Hubo un error"):null))))},G=a(22),L=a(4),M=function(){var e=Object(n.useState)({nombre:"",precio:null}),t=Object(P.a)(e,2),a=t[0],c=t[1],o=Object(i.b)(),l=Object(s.f)(),u=Object(i.c)((function(e){return e.productos.productoeditar}));Object(n.useEffect)((function(){c(u)}),[u]);var p=a.nombre,E=a.precio,O=function(e){c(Object(L.a)({},a,Object(G.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"text-center mb-4 font-weight-bold"},"Editar producto"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o(function(e){return function(){var t=Object(m.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(C(e)),t.prev=1,t.next=4,f.put("/productos/".concat(e.id),e);case 4:a(j(e)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0),a(w());case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}(a)),l.push("/")}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Nombre producto"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Nombre del producto",name:"nombre",value:p,onChange:O})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Precio producto"),r.a.createElement("input",{type:"number",className:"form-control",placeholder:"Precio del producto",name:"precio",value:E,onChange:O})),r.a.createElement("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100"},"Guardar Cambios"))))))},X=a(10),B=a(41),H={productos:[],error:null,loading:!1,productoeliminar:null,productoeditar:null},Z={alerta:null},J=Object(X.c)({productos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMENZAR_DESCARGA_PRODUCTOS":case"AGREGAR_PRODUCTO":return Object(L.a)({},e,{loading:t.payload});case"AGREGAR_PRODUCTO_EXITO":return Object(L.a)({},e,{loading:!1,productos:[].concat(Object(B.a)(e.productos),[t.payload])});case"PRODUCTO_EDITADO_ERROR":case"PRODUCTO_ELIMINADO_ERROR":case"DESCARGA_PRODUCTOS_ERROR":case"AGREGAR_PRODUCTO_ERROR":return Object(L.a)({},e,{loading:!1,error:t.payload});case"DESCARGA_PRODUCTOS_EXITO":return Object(L.a)({},e,{loading:!1,error:null,productos:t.payload});case"OBTENER_PRODUCTO_ELIMINAR":return Object(L.a)({},e,{productoeliminar:t.payload});case"PRODUCTO_ELIMINADO_EXITO":return Object(L.a)({},e,{productos:e.productos.filter((function(t){return t.id!==e.productoeliminar})),productoeliminar:null});case"OBTENER_PRODUCTO_EDITAR":return Object(L.a)({},e,{productoeditar:t.payload});case"PRODUCTO_EDITADO_EXITO":return Object(L.a)({},e,{productoeditar:null,productos:e.productos.map((function(e){return e.id===t.payload.id?e=t.payload:e}))});default:return e}},alerta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOSTRAR_ALERTA":return Object(L.a)({},e,{alerta:t.payload});case"OCULTAR_ALERTA":return Object(L.a)({},e,{alerta:null});default:return e}}}),V=a(40),W=Object(X.e)(J,Object(X.d)(Object(X.a)(V.a),"object"===typeof window&&"undefined"!=typeof window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));var $=function(){return r.a.createElement(l.a,{basename:"/"},r.a.createElement(i.a,{store:W},r.a.createElement(u,null),r.a.createElement("div",{className:"container mt-5"},r.a.createElement("p",{className:"alert alert-warning"},"Para usarlo se require un json server"),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:I}),r.a.createElement(s.a,{exact:!0,path:"/productos/nuevo",component:k}),r.a.createElement(s.a,{exact:!0,path:"/productos/editar/:id",component:M})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.c9b15076.chunk.js.map